# From Nand to Pong

![Pasted_image_20240331222104.png](images%2FPasted_image_20240331222104.png)
![Pasted_image_20240331221456.png](images%2FPasted_image_20240331221456.png)![](images/)

*ремейк легендарной классики 52 года спустя*
<br><br>

Идея заключалась в воссоздании понга на нашем созданном с нуле Hack'е. Это у меня и получилось. Впрочем получилось даже лучше: удалось добавить некоторые геймплейные улучшения 

### интересные геймплейные моменты:
- мячик увеличивает или уменьшает свою вертикальную скорость в зависимости от направления движения ракетки: если ракетка двигалась вверх, а мячик вниз, то после отскока его вертикальная скорость уменьшится. Она может уменьшиться вплоть до 0, тогда мячик будет двигаться абсолютно горизонтально
	- ![Pasted_image_20240331231442.png](images%2FPasted_image_20240331231442.png)
	- *мяч застрял в бесконечной петле, однако любой игрок в любой момент может отбить его в сторону*
- если отбить мячик боковой частью ракетки, то коллизия с ним просчитается несколько раз и его скорость увеличится значительно больше, чем обычно. И это не баг, а фича(!), ведь этот трюк очень рискованный, выполнить его непросто и он дает преимущество в игре

### интересные технические моменты:
+ для более быстрой отрисовки экран не очищается целиком каждый кадр, вместо этого очищается только область под объектом. Интересно, что "стирание" объекта при этом - это просто та же его отрисовка, но цветом фона
	+ ![Pasted_image_20240331224145.png](images%2FPasted_image_20240331224145.png)
+ Некоторые объекты не перерисовываются каждый кадр вообще. Например сетка перерисовывается только когда ее пересекает мячик, ведь он закрашивает всё за собой цветом фона. Ракетки перерисовываются только когда они двигаются или когда мячик отрисовывается внутри них (это происходит, если отбить мячик ребром ракетки)
+ Из за отсутствия дробных чисел скорость мячика может принимать только целочисленные значения, однако при 120fps перемещение даже на 1 пиксель за кадр - это слишком много, так что баланс пришлось настраивать, меняя частоту кадров

### побочный квест
+ в ходе разработки допилил расширение vs-кода для Jack'a: там были реализованы сниппеты далеко не всех базовых конструкций, а так же содержались некоторые баги в имеющихся сниппетах и в подсветке синтаксиса. Так же добавил сниппеты встроенных в JackOS классов и методов.
  Это не связано напрямую с написанием кода на джеке, но связано с удобством его написания, а так же это неплохой вклад в сообщество разработчиков

Поздравляю всех, написавших подобный проект, нам действительно удалось пройти весь путь от одного единственного логического вентиля до высокоуровневой разработки, это круто. Осталось закрыть всего 2 пропущеных этапа: дописать недостающий мост от джека до vm-кода, и написать операционную систему
